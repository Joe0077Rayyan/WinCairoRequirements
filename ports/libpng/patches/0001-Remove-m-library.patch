diff --git a/CMakeLists.txt b/CMakeLists.txt
index 48c6fa287..48dd3f006 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -60,6 +60,7 @@ if(NOT WIN32)
   )
   if(NOT M_LIBRARY)
     message(STATUS "math lib 'libm' not found; floating point support disabled")
+    set(M_LIBRARY "")
   endif()
 else()
   # not needed on windows
